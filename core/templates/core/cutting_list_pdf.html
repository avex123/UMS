{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
    <style>
        h2 { color: #dc3545; }
        table { width: 100%; margin-top: 15px; }
        th, td { padding: 8px; border: 1px solid #ccc; }
        th { background-color: #f8f9fa; }
        img.logo { height: 50px; }
    </style>
</head>
<body>
    <div class="d-flex justify-content-between align-items-center border-bottom mb-3">
        <img src="{% static 'logo.png' %}" class="logo" alt="Logo">
        <h2>Cutting List: {{ cutting_list.name }}</h2>
    </div>
    <p><strong>Created by:</strong> {{ cutting_list.created_by.username }}</p>
    <p><strong>Date:</strong> {{ cutting_list.created_at|date:"d M Y H:i" }}</p>

    <table class="table table-bordered">
        <thead class="table-light">
            <tr>
                <th>Material</th>
                <th>Cut Length (mm)</th>
                <th>Quantity</th>
                <th>Total Used (mm)</th>
                <th>Waste (mm)</th>
            </tr>
        </thead>
        <tbody>
            {% for entry in cutting_list.entries.all %}
            <tr>
                <td>{{ entry.inventory_item.name }}</td>
                <td>{{ entry.cut_length }}</td>
                <td>{{ entry.quantity }}</td>
                <td>{{ entry.total_length_used }}</td>
                <td>{{ entry.waste }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <p class="mt-3"><strong>Total Used:</strong> {{ total_used }} mm</p>
    <p><strong>Total Waste:</strong> {{ total_waste }} mm</p>
</body>
</html>
